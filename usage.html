<div class="highlight"><pre><span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">interval</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="c1">//interval in seconds used to divide the video timeline into buckets</span>
  <span class="nx">pollInterval</span><span class="o">:</span> <span class="mi">100</span> <span class="c1">//interval in milliseconds at which the playing video will be polled for its current position</span>
<span class="p">};</span>

<span class="c1">//playerElem is a required reference to the root DOM element of the embedded player (usually an &lt;object&gt; when using swfobject)</span>
<span class="c1">//playerApiId is a required reference to the playerapiid that you included in the query string of your YouTube embed</span>
<span class="c1">//options are optional, defaults are shown above</span>
<span class="kd">var</span> <span class="nx">youtubeEvents</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">YoutubeEvents</span><span class="p">(</span><span class="nx">playerElem</span><span class="p">,</span> <span class="nx">playerApiId</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>

<span class="c1">//The time argument that all event handlers receive represents the current position in the video timeline in seconds.</span>

<span class="c1">//ready is triggered when the YouTube player is ready (triggered by defining window.onYouTubePlayerReady. Do not overwrite plz.)</span>
<span class="nx">youtubeEvents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//unstarted is triggered when the player is loaded, but the video has not been started</span>
<span class="nx">youtubeEvents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;unstarted&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//playing is triggered when the video starts playing</span>
<span class="nx">youtubeEvents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;playing&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//paused is triggered when the video is paused</span>
<span class="nx">youtubeEvents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;paused&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//buffering is triggered when the video is trying to play, but must wait for more data</span>
<span class="nx">youtubeEvents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;buffering&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//ended is triggered when the video plays to the end</span>
<span class="nx">youtubeEvents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ended&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//state-changed is triggered whenever the state changes</span>
<span class="c1">//the state can be one of: &#39;unstarted&#39;, &#39;playing&#39;, &#39;paused&#39;, &#39;buffering&#39;, &#39;ended&#39;</span>
<span class="nx">youtubeEvents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;state-changed&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">time</span><span class="p">,</span> <span class="nx">stateName</span><span class="p">)</span> <span class="p">{});</span>

<span class="c1">//bucket is triggered whenever the current bucket on the video timeline changes</span>
<span class="c1">//note that this can happen whether the video is playing or paused</span>
<span class="c1">//the argument bucket represents the left boundary of the current bucket.</span>
<span class="nx">youtubeEvents</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;bucket&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">time</span><span class="p">,</span> <span class="nx">bucket</span><span class="p">)</span> <span class="p">{});</span>
</pre></div>
